<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Book Collection Manager</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <h1>Book Collection Manager</h1>
      <p class="subtitle">Cloud CRUD via Flask API + server-side JSON (hosted on Netlify)</p>
    </div>

    <nav class="nav">
      <button id="nav-list" class="nav-btn">List</button>
      <button id="nav-add" class="nav-btn">Add Book</button>
      <button id="nav-stats" class="nav-btn">Stats</button>
    </nav>
  </header>

  <main class="container">

   <!-- LIST VIEW -->
<section id="view-list" class="view">
  <div class="view-header">
    <h2>All Books</h2>

    <div class="actions">
      <input id="search" type="text" placeholder="Search title/author..." />
    </div>
  </div>

  <div class="table-wrap">
    <table class="table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Year</th>
          <th>Genre</th>
          <th>Status</th>
          <th>Rating</th>
          <th class="col-actions">Actions</th>
        </tr>
      </thead>
      <tbody id="books-tbody">
        <!-- JS will render rows here -->
      </tbody>
    </table>
  </div>

  <!--PAGING CONTROLS-->
  <div class="pager">
    <button id="prev-page" class="secondary">Previous</button>
    <span id="page-indicator" class="muted">Page 1 of 1</span>
    <button id="next-page" class="secondary">Next</button>
  </div>

  <p id="empty-state" class="muted hidden">
    No books found. Try clearing the search or add a new book.
  </p>
</section>


    <!--FORM VIEW (ADD / EDIT)-->
    <section id="view-form" class="view hidden">
      <div class="view-header">
        <h2 id="form-title">Add Book</h2>
        <p class="muted" id="form-hint">Fill out all required fields.</p>
      </div>

      <form id="book-form" novalidate>
        <!--hidden id used for edit mode-->
        <input type="hidden" id="book-id" />

        <div class="grid">
          <label>
            <span>Title <span class="req">*</span></span>
            <input id="title" type="text" maxlength="120" required />
            <small class="error" id="err-title"></small>
          </label>

          <label>
            <span>Author <span class="req">*</span></span>
            <input id="author" type="text" maxlength="120" required />
            <small class="error" id="err-author"></small>
          </label>

          <label>
            <span>Year <span class="req">*</span></span>
            <input id="year" type="number" min="1400" max="2100" required />
            <small class="error" id="err-year"></small>
          </label>

          <label>
            <span>Genre <span class="req">*</span></span>
            <input id="genre" type="text" maxlength="60" required />
            <small class="error" id="err-genre"></small>
          </label>

          <label>
            <span>Status <span class="req">*</span></span>
            <select id="status" required>
              <option value="">Select…</option>
              <option value="Unread">Unread</option>
              <option value="Reading">Reading</option>
              <option value="Finished">Finished</option>
            </select>
            <small class="error" id="err-status"></small>
          </label>

          <label>
            <span>Rating (1–5)</span>
            <input id="rating" type="number" min="1" max="5" />
            <small class="error" id="err-rating"></small>
          </label>
        </div>

        <div class="form-actions">
          <button type="submit" class="primary" id="save-btn">Save</button>
          <button type="button" class="secondary" id="cancel-btn">Cancel</button>
          <button type="button" class="danger hidden" id="delete-btn">Delete</button>
        </div>

        <p class="muted small">
          <span class="req">*</span> required
        </p>
      </form>
    </section>

    <!-- STATS VIEW -->
    <section id="view-stats" class="view hidden">
      <div class="view-header">
        <h2>Stats</h2>
        <p class="muted">Derived values computed from your current collection.</p>
      </div>

      <div class="stats-grid">
        <div class="card">
          <h3>Total Books</h3>
          <p class="big" id="stat-total">0</p>
        </div>

        <div class="card">
          <h3>Finished</h3>
          <p class="big" id="stat-finished">0</p>
          <p class="muted small">Count of books with status “Finished”.</p>
        </div>

        <div class="card">
          <h3>Average Rating</h3>
          <p class="big" id="stat-avg-rating">—</p>
          <p class="muted small">Average of ratings that are filled in.</p>
        </div>
      </div>
    </section>

  </main>

  <footer class="footer">
    <p class="muted small">Frontend: Netlify · Backend: Flask (PythonAnywhere) · Data: server-side JSON</p>
  </footer>

  <!--scripts-->
  <script src="js/app.js"></script>
</body>
</html>
